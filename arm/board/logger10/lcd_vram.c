
/*-
 * Copyright (c) 2009 UCHIYAMA Yasushi.  All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR
 * IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
 * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT,
 * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
 * NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

// V-RAM related functions.

#include <sys/system.h>
#include <reg.h>
#include <string.h>
#include <device/ad12864lcd.h>

uint8_t (*vram)[VRAM_PAGE_SIZE] = (uint8_t(*)[])ETHER_RAM_START;

#define	BITMAP_WIDTH	24
#define	BITMAP_NPAGE	3
struct font
{
  uint8_t bitmap[BITMAP_NPAGE][BITMAP_WIDTH];
} fonts[] = {
//[0xcb]----------------------------------------------------------------------
  {{
    { 	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0xc0, //........................||......
	0xf0, //........................||||....
	0x38, //..........................|||...
	0x0c, //............................||..
	0x04, //.............................|..
	0x02, //..............................|.
	0x02, //..............................|.
	0x02, //..............................|.
	0x02, //..............................|.
	0x04, //.............................|..
	0x0c, //............................||..
	0x38, //..........................|||...
	0xf0, //........................||||....
	0xc0, //........................||......
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
    },
    { 	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0xff, //........................||||||||
	0xff, //........................||||||||
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0xff, //........................||||||||
	0xff, //........................||||||||
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
    },
    { 	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x03, //..............................||
	0x07, //.............................|||
	0x0c, //............................||..
	0x08, //............................|...
	0x10, //...........................|....
	0x10, //...........................|....
	0x10, //...........................|....
	0x10, //...........................|....
	0x08, //............................|...
	0x0c, //............................||..
	0x07, //.............................|||
	0x03, //..............................||
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
    },
  }},
//[0xcc]----------------------------------------------------------------------
  {{
    { 	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x08, //............................|...
	0x08, //............................|...
	0x0c, //............................||..
	0x0c, //............................||..
	0xfe, //........................|||||||.
	0xfe, //........................|||||||.
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
    },
    { 	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0xff, //........................||||||||
	0xff, //........................||||||||
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
    },
    { 	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x10, //...........................|....
	0x10, //...........................|....
	0x10, //...........................|....
	0x10, //...........................|....
	0x1f, //...........................|||||
	0x1f, //...........................|||||
	0x10, //...........................|....
	0x10, //...........................|....
	0x10, //...........................|....
	0x10, //...........................|....
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
    },
  }},
//[0xcd]----------------------------------------------------------------------
  {{
    { 	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x40, //.........................|......
	0x30, //..........................||....
	0x18, //...........................||...
	0x0c, //............................||..
	0x04, //.............................|..
	0x02, //..............................|.
	0x02, //..............................|.
	0x02, //..............................|.
	0x02, //..............................|.
	0x02, //..............................|.
	0x04, //.............................|..
	0x0c, //............................||..
	0xf8, //........................|||||...
	0xf0, //........................||||....
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
    },
    { 	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x80, //........................|.......
	0x40, //.........................|......
	0x20, //..........................|.....
	0x30, //..........................||....
	0x18, //...........................||...
	0x0c, //............................||..
	0x07, //.............................|||
	0x03, //..............................||
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
    },
    { 	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x10, //...........................|....
	0x18, //...........................||...
	0x1c, //...........................|||..
	0x1a, //...........................||.|.
	0x19, //...........................||..|
	0x18, //...........................||...
	0x18, //...........................||...
	0x18, //...........................||...
	0x18, //...........................||...
	0x18, //...........................||...
	0x18, //...........................||...
	0x18, //...........................||...
	0x1c, //...........................|||..
	0x1f, //...........................|||||
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
    },
  }},
//[0xce]----------------------------------------------------------------------
  {{
    { 	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x10, //...........................|....
	0x08, //............................|...
	0x0c, //............................||..
	0x04, //.............................|..
	0x06, //.............................||.
	0x02, //..............................|.
	0x02, //..............................|.
	0x02, //..............................|.
	0x06, //.............................||.
	0x06, //.............................||.
	0x1c, //...........................|||..
	0xfc, //........................||||||..
	0x70, //.........................|||....
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
    },
    { 	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x04, //.............................|..
	0x06, //.............................||.
	0x06, //.............................||.
	0x06, //.............................||.
	0x06, //.............................||.
	0x06, //.............................||.
	0x0e, //............................|||.
	0x0d, //............................||.|
	0x1c, //...........................|||..
	0xf8, //........................|||||...
	0xf0, //........................||||....
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
    },
    { 	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x10, //...........................|....
	0x10, //...........................|....
	0x10, //...........................|....
	0x10, //...........................|....
	0x10, //...........................|....
	0x10, //...........................|....
	0x10, //...........................|....
	0x08, //............................|...
	0x08, //............................|...
	0x0c, //............................||..
	0x04, //.............................|..
	0x07, //.............................|||
	0x03, //..............................||
	0x01, //...............................|
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
    },
  }},
//[0xcf]----------------------------------------------------------------------
  {{
    { 	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x80, //........................|.......
	0x40, //.........................|......
	0x20, //..........................|.....
	0x18, //...........................||...
	0x04, //.............................|..
	0xfe, //........................|||||||.
	0xfe, //........................|||||||.
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
    },
    { 	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x80, //........................|.......
	0xc0, //........................||......
	0xa0, //........................|.|.....
	0x98, //........................|..||...
	0x84, //........................|....|..
	0x82, //........................|.....|.
	0x81, //........................|......|
	0x80, //........................|.......
	0x80, //........................|.......
	0x80, //........................|.......
	0x80, //........................|.......
	0xff, //........................||||||||
	0xff, //........................||||||||
	0x80, //........................|.......
	0x80, //........................|.......
	0x80, //........................|.......
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
    },
    { 	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x10, //...........................|....
	0x10, //...........................|....
	0x10, //...........................|....
	0x1f, //...........................|||||
	0x1f, //...........................|||||
	0x10, //...........................|....
	0x10, //...........................|....
	0x10, //...........................|....
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
    },
  }},
//[0xd0]----------------------------------------------------------------------
  {{
    { 	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0xfe, //........................|||||||.
	0x06, //.............................||.
	0x06, //.............................||.
	0x06, //.............................||.
	0x06, //.............................||.
	0x06, //.............................||.
	0x06, //.............................||.
	0x06, //.............................||.
	0x06, //.............................||.
	0x06, //.............................||.
	0x06, //.............................||.
	0x06, //.............................||.
	0x02, //..............................|.
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
    },
    { 	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x0f, //............................||||
	0x04, //.............................|..
	0x06, //.............................||.
	0x02, //..............................|.
	0x03, //..............................||
	0x03, //..............................||
	0x03, //..............................||
	0x03, //..............................||
	0x03, //..............................||
	0x06, //.............................||.
	0x0e, //............................|||.
	0xfc, //........................||||||..
	0x70, //.........................|||....
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
    },
    { 	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x10, //...........................|....
	0x10, //...........................|....
	0x10, //...........................|....
	0x10, //...........................|....
	0x10, //...........................|....
	0x08, //............................|...
	0x08, //............................|...
	0x08, //............................|...
	0x04, //.............................|..
	0x06, //.............................||.
	0x03, //..............................||
	0x01, //...............................|
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
    },
  }},
//[0xd1]----------------------------------------------------------------------
  {{
    { 	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0xc0, //........................||......
	0xe0, //........................|||.....
	0x30, //..........................||....
	0x08, //............................|...
	0x04, //.............................|..
	0x04, //.............................|..
	0x02, //..............................|.
	0x02, //..............................|.
	0x02, //..............................|.
	0x02, //..............................|.
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
    },
    { 	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0xff, //........................||||||||
	0xff, //........................||||||||
	0x04, //.............................|..
	0x04, //.............................|..
	0x02, //..............................|.
	0x02, //..............................|.
	0x02, //..............................|.
	0x02, //..............................|.
	0x02, //..............................|.
	0x02, //..............................|.
	0x04, //.............................|..
	0x1c, //...........................|||..
	0xf8, //........................|||||...
	0xe0, //........................|||.....
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
    },
    { 	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x03, //..............................||
	0x07, //.............................|||
	0x0c, //............................||..
	0x08, //............................|...
	0x10, //...........................|....
	0x10, //...........................|....
	0x10, //...........................|....
	0x10, //...........................|....
	0x08, //............................|...
	0x0c, //............................||..
	0x07, //.............................|||
	0x03, //..............................||
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
    },
  }},
//[0xd2]----------------------------------------------------------------------
  {{
    { 	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x3e, //..........................|||||.
	0x0e, //............................|||.
	0x06, //.............................||.
	0x06, //.............................||.
	0x06, //.............................||.
	0x06, //.............................||.
	0x06, //.............................||.
	0x06, //.............................||.
	0x06, //.............................||.
	0x06, //.............................||.
	0xc6, //........................||...||.
	0x26, //..........................|..||.
	0x16, //...........................|.||.
	0x0e, //............................|||.
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
    },
    { 	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0xc0, //........................||......
	0xf8, //........................|||||...
	0x1e, //...........................||||.
	0x03, //..............................||
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
    },
    { 	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x1e, //...........................||||.
	0x1f, //...........................|||||
	0x01, //...............................|
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
    },
  }},
//[0xd3]----------------------------------------------------------------------
  {{
    { 	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0xf0, //........................||||....
	0xf8, //........................|||||...
	0x8c, //........................|...||..
	0x04, //.............................|..
	0x02, //..............................|.
	0x02, //..............................|.
	0x02, //..............................|.
	0x02, //..............................|.
	0x02, //..............................|.
	0x02, //..............................|.
	0x04, //.............................|..
	0x0c, //............................||..
	0xf8, //........................|||||...
	0xf0, //........................||||....
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
    },
    { 	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0xc0, //........................||......
	0xe0, //........................|||.....
	0x31, //..........................||...|
	0x13, //...........................|..||
	0x0b, //............................|.||
	0x07, //.............................|||
	0x06, //.............................||.
	0x06, //.............................||.
	0x0e, //............................|||.
	0x0c, //............................||..
	0x1c, //...........................|||..
	0x1a, //...........................||.|.
	0x39, //..........................|||..|
	0x71, //.........................|||...|
	0xe0, //........................|||.....
	0xc0, //........................||......
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
    },
    { 	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x03, //..............................||
	0x07, //.............................|||
	0x0c, //............................||..
	0x08, //............................|...
	0x10, //...........................|....
	0x10, //...........................|....
	0x10, //...........................|....
	0x10, //...........................|....
	0x10, //...........................|....
	0x10, //...........................|....
	0x10, //...........................|....
	0x10, //...........................|....
	0x08, //............................|...
	0x0c, //............................||..
	0x07, //.............................|||
	0x03, //..............................||
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
    },
  }},
//[0xd4]----------------------------------------------------------------------
  {{
    { 	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0xc0, //........................||......
	0xf0, //........................||||....
	0x38, //..........................|||...
	0x0c, //............................||..
	0x04, //.............................|..
	0x02, //..............................|.
	0x02, //..............................|.
	0x02, //..............................|.
	0x02, //..............................|.
	0x04, //.............................|..
	0x0c, //............................||..
	0x38, //..........................|||...
	0xf0, //........................||||....
	0xc0, //........................||......
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
    },
    { 	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x01, //...............................|
	0x07, //.............................|||
	0x0e, //............................|||.
	0x18, //...........................||...
	0x10, //...........................|....
	0x20, //..........................|.....
	0x20, //..........................|.....
	0x20, //..........................|.....
	0x20, //..........................|.....
	0x20, //..........................|.....
	0x10, //...........................|....
	0xd0, //........................||.|....
	0xff, //........................||||||||
	0x3f, //..........................||||||
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
    },
    { 	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x10, //...........................|....
	0x10, //...........................|....
	0x10, //...........................|....
	0x10, //...........................|....
	0x08, //............................|...
	0x08, //............................|...
	0x08, //............................|...
	0x04, //.............................|..
	0x06, //.............................||.
	0x03, //..............................||
	0x01, //...............................|
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
    },
  }},
//[0x04]----------------------------------------------------------------------
  {{
    { 	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
    },
    { 	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
    },
    { 	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x0e, //............................|||.
	0x0e, //............................|||.
	0x0e, //............................|||.
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
    },
  }},
//[0x26]----------------------------------------------------------------------
  {{
    { 	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x23, //..........................|...||
	0x1f, //...........................|||||
	0x0f, //............................||||
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
    },
    { 	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
    },
    { 	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
    },
  }},
//[0x06]----------------------------------------------------------------------
  {{
    { 	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
    },
    { 	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x06, //.............................||.
	0x06, //.............................||.
	0x06, //.............................||.
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
    },
    { 	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x1c, //...........................|||..
	0x1c, //...........................|||..
	0x1c, //...........................|||..
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
	0x00, //................................
    },
  }},
};

uint8_t *
lcd_vram_get_page (int page)
{

  return vram[page];
}

void
lcd_vram_clear_page (int page)
{

  memset (vram[page], 0, VRAM_PAGE_SIZE);
}

// Transfer internal V-RAM data to LCD
void
lcd_vram_transfer ()
{
  int i, j;

  for (i = 0; i < VRAM_NPAGE; i++)
    {
      lcd_set_page (i);
      lcd_set_column (0);
      uint8_t *bits = vram[i];
      for (j = 0; j < VRAM_PAGE_SIZE; j++)
	lcd_data_putc (bits[j]);
    }
}

// Write to V-RAM
void
lcd_vram_font (int font_index, int x, int y, bool inverse)
{
  int j, k;
  assert ((size_t)font_index < sizeof fonts / sizeof (fonts[0]));
  struct font *font = fonts + font_index;

  for (j = 0; j < BITMAP_NPAGE; j++)
    {
      uint8_t *p = vram[j + y] + x;
      uint8_t *bits = font->bitmap[j];
      for (k = 0; k < BITMAP_WIDTH; k++)
	{
	  uint8_t b = *bits++;
	  *p++ |= inverse ? ~b : b;
	}
    }
}

// Write to LCD directly.
void
lcd_display_font (int font_index, int x, int y)
{
  int j, k;
  struct font *font = fonts + font_index;

  for (j = y; j < BITMAP_NPAGE + y; j++)
    {
      lcd_set_page (j);
      lcd_set_column (x);
      uint8_t *bits = font->bitmap[j];
      for (k = 0; k < BITMAP_WIDTH; k++)
	lcd_data_putc (bits[k]);
    }
}
