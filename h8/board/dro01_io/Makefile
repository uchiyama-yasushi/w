all:	rom

rom:
	PROGRAM=ROM ${MAKE} build

ROOT_DIR	= ../../..

include ../../mk/3694.mk
#include ../../mk/3664.mk


include ${MK_DIR}/objs.mk

#CFLAGS += -DDEBUG
CFLAGS += -DTINY_PRINTF -DSTATIC=
CFLAGS += -DSHELL_NOBUILTIN_COMMAND
CFLAGS += -DTHREAD_STACKSIZE_DEFAULT=192
#CFLAGS += -DTHREAD_DEBUG -DTHREAD_VERBOSE
#CFLAGS += -DBUFFERD_CONSOLE_DISABLE
#PROMPT_BUFFER_SIZE
#PROMPT_HISTORY_MAX
#SHELL_CMDARG_MAX
#THREAD_PRIORITY_MAX

H8OBJS += sci3.o timer_w.o timer_v.o timer_a.o
KERNOBJS += ${KERN_CORE_OBJS} ${KERN_DELAY_OBJS} ${KERN_THREAD_OBJS}	\
	${KERN_MONITOR_OBJS} ${KERN_TIMER_OBJS} ${KERN_SHELL_OBJS}	\
	${KERN_RINGBUF_OBJS} ${KERN_BUFCONSOLE_OBJS}
LOCAL_OBJS = main.o app.o

LIBTYPE	= MINLIB

OBJS = ${H8OBJS} ${KERNOBJS} ${LOCAL_OBJS}

include ${MK_DIR}/target.mk
include ${MK_DIR}/utils.mk